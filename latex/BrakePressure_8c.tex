\hypertarget{BrakePressure_8c}{}\doxysection{Src/\+Sensors/\+Analog\+Sensors/\+Brake\+Pressure.c File Reference}
\label{BrakePressure_8c}\index{Src/Sensors/AnalogSensors/BrakePressure.c@{Src/Sensors/AnalogSensors/BrakePressure.c}}
{\ttfamily \#include \char`\"{}../../../\+Inc/\+Sensors/\+Analog\+Sensors/\+Brake\+Pressure.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
Include dependency graph for Brake\+Pressure.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{BrakePressure_8c_a6cc0bf29d38b4637cb6a0a36f0196a81}{init\+Brake\+Pressure}} (\mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} $\ast$bp, int hz, int channel)
\begin{DoxyCompactList}\small\item\em Initializes the \mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} sensor with the given frequency and channel. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{BrakePressure_8c_a60fc11e2ec7062cde216bb02ec3bcb2f}{get\+Brake\+Pressure}} (\mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} $\ast$bp)
\begin{DoxyCompactList}\small\item\em Gets the current brake pressure. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{BrakePressure_8c_a900d41fab896ec94686ed339f7ddd48b}{update\+Brake\+Pressure}} (void $\ast$bp)
\begin{DoxyCompactList}\small\item\em Updates the brake pressure data. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{BrakePressure_8c_a263953f8a1c52229189a61a9af3670c9}{transfer\+Function\+Brake\+Pressure}} (float raw\+Val)
\begin{DoxyCompactList}\small\item\em Converts raw brake pressure data to a meaningful pressure value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const float \mbox{\hyperlink{BrakePressure_8c_adb9891cd73145352f30b6c5bd94c5fc8}{k\+Offset\+Voltage}} = 0.\+201
\item 
static const float \mbox{\hyperlink{BrakePressure_8c_a6c01e45d67bc25d9e5bba6ad0b9b6874}{k\+Volts\+Per\+PSIA}} = 0.\+03738
\item 
static const float \mbox{\hyperlink{BrakePressure_8c_a4253ed8b2bff6c9e4c13bb2cd0904770}{k\+Low\+Output\+Saturation}} = 0.\+35
\item 
static const float \mbox{\hyperlink{BrakePressure_8c_a478b3233c95f0587486864479c57a2f4}{k\+High\+Output\+Saturation}} = 4.\+65
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{BrakePressure_8c_a60fc11e2ec7062cde216bb02ec3bcb2f}\label{BrakePressure_8c_a60fc11e2ec7062cde216bb02ec3bcb2f}} 
\index{BrakePressure.c@{BrakePressure.c}!getBrakePressure@{getBrakePressure}}
\index{getBrakePressure@{getBrakePressure}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{getBrakePressure()}{getBrakePressure()}}
{\footnotesize\ttfamily float get\+Brake\+Pressure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} $\ast$}]{bp }\end{DoxyParamCaption})}



Gets the current brake pressure. 


\begin{DoxyParams}{Parameters}
{\em bp} & Pointer to the \mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} structure to query. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The current brake pressure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00017}{17}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00017                                           \{}
\DoxyCodeLine{00018     \textcolor{keywordflow}{return} bp-\/>\mbox{\hyperlink{structBrakePressure_ac6a0f05f4e76d085cbebe9acebae75be}{pressure}};}
\DoxyCodeLine{00019 \}}

\end{DoxyCode}
\mbox{\Hypertarget{BrakePressure_8c_a6cc0bf29d38b4637cb6a0a36f0196a81}\label{BrakePressure_8c_a6cc0bf29d38b4637cb6a0a36f0196a81}} 
\index{BrakePressure.c@{BrakePressure.c}!initBrakePressure@{initBrakePressure}}
\index{initBrakePressure@{initBrakePressure}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{initBrakePressure()}{initBrakePressure()}}
{\footnotesize\ttfamily void init\+Brake\+Pressure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} $\ast$}]{bp,  }\item[{int}]{hz,  }\item[{int}]{channel }\end{DoxyParamCaption})}



Initializes the \mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} sensor with the given frequency and channel. 


\begin{DoxyParams}{Parameters}
{\em bp} & Pointer to the \mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} structure to initialize. \\
\hline
{\em hz} & The frequency in Hertz at which the sensor operates. \\
\hline
{\em channel} & The analog channel the sensor is connected to. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00011}{11}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00011                                                                \{}
\DoxyCodeLine{00012     \mbox{\hyperlink{AnalogSensor_8h_a1f4d14f551bd2aeab536372c13bb3180}{initAnalogSensor}}(\&bp-\/>\mbox{\hyperlink{structBrakePressure_aac8fb95a12d9277da1c7cbaac448678a}{base}}, \textcolor{stringliteral}{"{}BrakePressure"{}}, hz, channel);}
\DoxyCodeLine{00013     bp-\/>\mbox{\hyperlink{structBrakePressure_ac6a0f05f4e76d085cbebe9acebae75be}{pressure}} = -\/1;}
\DoxyCodeLine{00014     bp-\/>\mbox{\hyperlink{structBrakePressure_aac8fb95a12d9277da1c7cbaac448678a}{base}}.\mbox{\hyperlink{structAnalogSensor_ae5a490b3ae096b5c882bb1f3f23fdbcb}{sensor}}.\mbox{\hyperlink{structSensor_a7e6cf7138f6d350fd2bf0a76fba7a2ad}{updateable}}.\mbox{\hyperlink{structUpdateable_a16ae43b8576f63634cc825a7294c7a78}{update}} = \mbox{\hyperlink{BrakePressure_8c_a900d41fab896ec94686ed339f7ddd48b}{updateBrakePressure}};}
\DoxyCodeLine{00015 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 1
\mbox{\Hypertarget{BrakePressure_8c_a263953f8a1c52229189a61a9af3670c9}\label{BrakePressure_8c_a263953f8a1c52229189a61a9af3670c9}} 
\index{BrakePressure.c@{BrakePressure.c}!transferFunctionBrakePressure@{transferFunctionBrakePressure}}
\index{transferFunctionBrakePressure@{transferFunctionBrakePressure}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{transferFunctionBrakePressure()}{transferFunctionBrakePressure()}}
{\footnotesize\ttfamily float transfer\+Function\+Brake\+Pressure (\begin{DoxyParamCaption}\item[{float}]{raw\+Val }\end{DoxyParamCaption})}



Converts raw brake pressure data to a meaningful pressure value. 


\begin{DoxyParams}{Parameters}
{\em raw\+Val} & The raw data from the brake pressure sensor. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The converted brake pressure value. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00028}{28}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028                                                   \{}
\DoxyCodeLine{00029     \textcolor{keywordflow}{if} (rawVal < \mbox{\hyperlink{BrakePressure_8c_a4253ed8b2bff6c9e4c13bb2cd0904770}{kLowOutputSaturation}}) \{}
\DoxyCodeLine{00030         printf(\textcolor{stringliteral}{"{}BrakePressure::transfer\_function rawVal is too low\(\backslash\)n"{}});}
\DoxyCodeLine{00031         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00032     \}}
\DoxyCodeLine{00033     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rawVal > \mbox{\hyperlink{BrakePressure_8c_a478b3233c95f0587486864479c57a2f4}{kHighOutputSaturation}}) \{}
\DoxyCodeLine{00034         printf(\textcolor{stringliteral}{"{}BrakePressure::transfer\_function rawVal is too high\(\backslash\)n"{}});}
\DoxyCodeLine{00035         \textcolor{keywordflow}{return} 115;}
\DoxyCodeLine{00036     \}}
\DoxyCodeLine{00037     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00038         \textcolor{keywordflow}{return} ((rawVal -\/ \mbox{\hyperlink{BrakePressure_8c_adb9891cd73145352f30b6c5bd94c5fc8}{kOffsetVoltage}}) / \mbox{\hyperlink{BrakePressure_8c_a6c01e45d67bc25d9e5bba6ad0b9b6874}{kVoltsPerPSIA}});}
\DoxyCodeLine{00039     \}}
\DoxyCodeLine{00040 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{BrakePressure_8c_a900d41fab896ec94686ed339f7ddd48b}\label{BrakePressure_8c_a900d41fab896ec94686ed339f7ddd48b}} 
\index{BrakePressure.c@{BrakePressure.c}!updateBrakePressure@{updateBrakePressure}}
\index{updateBrakePressure@{updateBrakePressure}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{updateBrakePressure()}{updateBrakePressure()}}
{\footnotesize\ttfamily void update\+Brake\+Pressure (\begin{DoxyParamCaption}\item[{void $\ast$}]{bp }\end{DoxyParamCaption})}



Updates the brake pressure data. 


\begin{DoxyParams}{Parameters}
{\em bp} & Pointer to the \mbox{\hyperlink{structBrakePressure}{Brake\+Pressure}} structure to update. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00021}{21}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021                                    \{}
\DoxyCodeLine{00022     \mbox{\hyperlink{structBrakePressure}{BrakePressure}} *brakePressure = (\mbox{\hyperlink{structBrakePressure}{BrakePressure}} *)bp;}
\DoxyCodeLine{00023     \textcolor{keywordtype}{float} rawData = 0.0f; \textcolor{comment}{// This should come from sensor read function or simulation}}
\DoxyCodeLine{00024     printf(\textcolor{stringliteral}{"{}Implement BrakePressure Update\(\backslash\)n"{}});}
\DoxyCodeLine{00025     brakePressure-\/>\mbox{\hyperlink{structBrakePressure_ac6a0f05f4e76d085cbebe9acebae75be}{pressure}} = \mbox{\hyperlink{BrakePressure_8c_a263953f8a1c52229189a61a9af3670c9}{transferFunctionBrakePressure}}(rawData);}
\DoxyCodeLine{00026 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 3
Here is the caller graph for this function\+:
% FIG 4


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{BrakePressure_8c_a478b3233c95f0587486864479c57a2f4}\label{BrakePressure_8c_a478b3233c95f0587486864479c57a2f4}} 
\index{BrakePressure.c@{BrakePressure.c}!kHighOutputSaturation@{kHighOutputSaturation}}
\index{kHighOutputSaturation@{kHighOutputSaturation}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{kHighOutputSaturation}{kHighOutputSaturation}}
{\footnotesize\ttfamily const float k\+High\+Output\+Saturation = 4.\+65\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00009}{9}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.

\mbox{\Hypertarget{BrakePressure_8c_a4253ed8b2bff6c9e4c13bb2cd0904770}\label{BrakePressure_8c_a4253ed8b2bff6c9e4c13bb2cd0904770}} 
\index{BrakePressure.c@{BrakePressure.c}!kLowOutputSaturation@{kLowOutputSaturation}}
\index{kLowOutputSaturation@{kLowOutputSaturation}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{kLowOutputSaturation}{kLowOutputSaturation}}
{\footnotesize\ttfamily const float k\+Low\+Output\+Saturation = 0.\+35\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00008}{8}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.

\mbox{\Hypertarget{BrakePressure_8c_adb9891cd73145352f30b6c5bd94c5fc8}\label{BrakePressure_8c_adb9891cd73145352f30b6c5bd94c5fc8}} 
\index{BrakePressure.c@{BrakePressure.c}!kOffsetVoltage@{kOffsetVoltage}}
\index{kOffsetVoltage@{kOffsetVoltage}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{kOffsetVoltage}{kOffsetVoltage}}
{\footnotesize\ttfamily const float k\+Offset\+Voltage = 0.\+201\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00006}{6}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.

\mbox{\Hypertarget{BrakePressure_8c_a6c01e45d67bc25d9e5bba6ad0b9b6874}\label{BrakePressure_8c_a6c01e45d67bc25d9e5bba6ad0b9b6874}} 
\index{BrakePressure.c@{BrakePressure.c}!kVoltsPerPSIA@{kVoltsPerPSIA}}
\index{kVoltsPerPSIA@{kVoltsPerPSIA}!BrakePressure.c@{BrakePressure.c}}
\doxysubsubsection{\texorpdfstring{kVoltsPerPSIA}{kVoltsPerPSIA}}
{\footnotesize\ttfamily const float k\+Volts\+Per\+PSIA = 0.\+03738\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{BrakePressure_8c_source_l00007}{7}} of file \mbox{\hyperlink{BrakePressure_8c_source}{Brake\+Pressure.\+c}}.

